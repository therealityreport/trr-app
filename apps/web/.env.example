NEXT_PUBLIC_FIREBASE_API_KEY=
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=
NEXT_PUBLIC_FIREBASE_PROJECT_ID=
NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET=
NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID=
NEXT_PUBLIC_FIREBASE_APP_ID=
NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID=
NEXT_PUBLIC_ENABLE_APPLE=false
NEXT_PUBLIC_USE_FIREBASE_EMULATORS=false
NEXT_PUBLIC_FIREBASE_EMULATOR_PROJECT_ID=demo-trr
NEXT_PUBLIC_REALITEASE_FEEDBACK_URL=
NEXT_PUBLIC_BRAVODLE_FEEDBACK_URL=

# ============================================================================
# PostgreSQL Database Configuration (REQUIRED for survey storage)
# ============================================================================
# Get this from your PostgreSQL provider (e.g., Neon, Supabase, Railway)
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=

# ============================================================================
# Firebase Admin SDK Configuration (REQUIRED for API authentication)
# ============================================================================
# Download from: Firebase Console → Project Settings → Service Accounts → Generate New Private Key
# Paste the entire JSON object as a single-line string (minified, no line breaks)
FIREBASE_SERVICE_ACCOUNT=
# Auth provider adapter (Stage 1 of Firebase -> Supabase migration)
# Options: firebase | supabase
TRR_AUTH_PROVIDER=firebase
# When true, attempt secondary-provider verification for parity logging
TRR_AUTH_SHADOW_MODE=false
# Optional Stage 3 cutover readiness thresholds (non-negative integers)
TRR_AUTH_CUTOVER_MIN_SHADOW_CHECKS=50
TRR_AUTH_CUTOVER_MAX_SHADOW_FAILURES=0
TRR_AUTH_CUTOVER_MAX_SHADOW_MISMATCH_EVENTS=0

# ============================================================================
# Admin Access Control
# ============================================================================
# Comma-separated list of admin email addresses (e.g., "admin@example.com,owner@example.com")
# Users with these emails can access /admin/survey-responses
ADMIN_EMAIL_ALLOWLIST=
# Alternative: public admin email list (less secure, visible to client)
NEXT_PUBLIC_ADMIN_EMAILS=
# Optional: additional admin UIDs (client-visible)
NEXT_PUBLIC_ADMIN_UIDS=
# Optional: case-sensitive display names that should receive admin access
ADMIN_DISPLAYNAME_ALLOWLIST=
# Client-exposed display names allowed in the admin UI (defaults include "The Reality Report Superfan @the_reality_report1")
NEXT_PUBLIC_ADMIN_DISPLAY_NAMES=
# Canonical admin origin (dev default: http://admin.localhost:3000)
ADMIN_APP_ORIGIN=http://admin.localhost:3000
# Comma-separated hosts allowed for /api/admin/* (ADMIN_APP_ORIGIN host is also allowed).
# If unset in development, localhost-family defaults are used:
# admin.localhost,localhost,127.0.0.1,[::1],::1
ADMIN_APP_HOSTS=admin.localhost,localhost,127.0.0.1,[::1]
# Enforce host-based admin routing and API access gate (defaults to true when unset)
ADMIN_ENFORCE_HOST=true
# When true, admin host redirects non-admin page paths to /admin (never /api/*)
ADMIN_STRICT_HOST_ROUTING=false

# ============================================================================
# TRR Core API (Supabase) - Required for Admin Shows Hub
# ============================================================================
# Connects to the TRR metadata database (core schema) for show/season/cast data
TRR_CORE_SUPABASE_URL=https://vwxfvzutyufrkhfgoeaa.supabase.co
# Service role key (NOT anon key) - keep secret, server-side only
TRR_CORE_SUPABASE_SERVICE_ROLE_KEY=
# Shared secret sent to backend as X-TRR-Internal-Admin-Secret for facebank seed toggle proxy
TRR_INTERNAL_ADMIN_SHARED_SECRET=

# ============================================================================
# TRR Backend API - Required for Image Scraping
# ============================================================================
# URL to the TRR-Backend FastAPI server (e.g., http://localhost:8000 for local dev)
TRR_API_URL=http://127.0.0.1:8000
SCREENALYTICS_API_URL=http://127.0.0.1:8001
# Reddit OAuth2 credentials (REQUIRED for reliable Reddit API access)
# Create a "script" app at https://www.reddit.com/prefs/apps
# The unauthenticated API is heavily rate-limited (~10 req/min vs 60 req/min with OAuth)
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_USER_AGENT=TRRAdminRedditDiscovery/1.0 (+https://thereality.report)
REDDIT_FETCH_TIMEOUT_MS=12000

# ============================================================================
# SSL overrides (optional – useful for self-signed certs)
# ============================================================================
# Force SSL on/off regardless of connection string sslmode (values: "true"/"false"/"require"/"disable")
DATABASE_SSL=
# Override TLS certificate verification ("false" allows self-signed certs)
DATABASE_SSL_REJECT_UNAUTHORIZED=
# Inline CA bundle (multi-line string or \n separated)
DATABASE_SSL_CA=
# Or provide a relative path to a PEM file (e.g., apps/web/certs/us-east-1-bundle.pem)
DATABASE_SSL_CA_FILE=
