"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "proxy";
exports.ids = ["proxy"];
exports.modules = {

/***/ "(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb%2Fsrc%2Fproxy.ts&page=%2Fproxy&rootDir=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb&matchers=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb%2Fsrc%2Fproxy.ts&page=%2Fproxy&rootDir=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb&matchers=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/globals */ \"(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/server/web/globals.js\");\n/* harmony import */ var next_dist_server_web_globals__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_globals__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_web_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/adapter */ \"(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/server/web/adapter.js\");\n/* harmony import */ var next_dist_server_web_adapter__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_adapter__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _src_proxy_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./src/proxy.ts */ \"(middleware)/./src/proxy.ts\");\n/* harmony import */ var next_dist_client_components_is_next_router_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/client/components/is-next-router-error */ \"(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/client/components/is-next-router-error.js\");\n/* harmony import */ var next_dist_client_components_is_next_router_error__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_is_next_router_error__WEBPACK_IMPORTED_MODULE_3__);\n\n\n// Import the userland code.\n\n\n\nconst mod = {\n    ..._src_proxy_ts__WEBPACK_IMPORTED_MODULE_2__\n};\nconst page = \"/proxy\";\nconst isProxy = page === '/proxy' || page === '/src/proxy';\nconst handlerUserland = (isProxy ? mod.proxy : mod.middleware) || mod.default;\nclass ProxyMissingExportError extends Error {\n    constructor(message){\n        super(message);\n        // Stack isn't useful here, remove it considering it spams logs during development.\n        this.stack = '';\n    }\n}\n// TODO: This spams logs during development. Find a better way to handle this.\n// Removing this will spam \"fn is not a function\" logs which is worse.\nif (typeof handlerUserland !== 'function') {\n    throw new ProxyMissingExportError(`The ${isProxy ? 'Proxy' : 'Middleware'} file \"${page}\" must export a function named \\`${isProxy ? 'proxy' : 'middleware'}\\` or a default function.`);\n}\n// Proxy will only sent out the FetchEvent to next server,\n// so load instrumentation module here and track the error inside proxy module.\nfunction errorHandledHandler(fn) {\n    return async (...args)=>{\n        try {\n            return await fn(...args);\n        } catch (err) {\n            // In development, error the navigation API usage in runtime,\n            // since it's not allowed to be used in proxy as it's outside of react component tree.\n            if (true) {\n                if ((0,next_dist_client_components_is_next_router_error__WEBPACK_IMPORTED_MODULE_3__.isNextRouterError)(err)) {\n                    err.message = `Next.js navigation API is not allowed to be used in ${isProxy ? 'Proxy' : 'Middleware'}.`;\n                    throw err;\n                }\n            }\n            const req = args[0];\n            const url = new URL(req.url);\n            const resource = url.pathname + url.search;\n            await (0,next_dist_server_web_globals__WEBPACK_IMPORTED_MODULE_0__.edgeInstrumentationOnRequestError)(err, {\n                path: resource,\n                method: req.method,\n                headers: Object.fromEntries(req.headers.entries())\n            }, {\n                routerKind: 'Pages Router',\n                routePath: '/proxy',\n                routeType: 'proxy',\n                revalidateReason: undefined\n            });\n            throw err;\n        }\n    };\n}\nconst handler = (opts)=>{\n    return (0,next_dist_server_web_adapter__WEBPACK_IMPORTED_MODULE_1__.adapter)({\n        ...opts,\n        page,\n        handler: errorHandledHandler(handlerUserland)\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n\n//# sourceMappingURL=middleware.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE2LjEuNl9AYmFiZWwrY29yZUA3LjI5LjBfQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wX0BwbGF5d3JpZ2h0K3Rlc3RAMS41OC4yX3JlYWN0LWRfMWQ0ZTExM2QzNzczYzNiNTVmYmNhMDg2ZTZjNDQ5YmYvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1taWRkbGV3YXJlLWxvYWRlci5qcz9hYnNvbHV0ZVBhZ2VQYXRoPSUyRlVzZXJzJTJGdGhvbWFzaHVsaWhhbiUyRlByb2plY3RzJTJGVFJSJTJGVFJSLUFQUCUyRmFwcHMlMkZ3ZWIlMkZzcmMlMkZwcm94eS50cyZwYWdlPSUyRnByb3h5JnJvb3REaXI9JTJGVXNlcnMlMkZ0aG9tYXNodWxpaGFuJTJGUHJvamVjdHMlMkZUUlIlMkZUUlItQVBQJTJGYXBwcyUyRndlYiZtYXRjaGVycz0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0M7QUFDaUI7QUFDdkQ7QUFDdUM7QUFDMEM7QUFDSTtBQUNyRjtBQUNBLE9BQU8sMENBQUk7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGtDQUFrQyxRQUFRLEtBQUssbUNBQW1DLGlDQUFpQztBQUNoSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsZ0JBQWdCLElBQXFDO0FBQ3JELG9CQUFvQixtR0FBaUI7QUFDckMseUZBQXlGLGlDQUFpQztBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsK0ZBQWlDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxxRUFBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpRUFBZSxPQUFPLEVBQUM7O0FBRXZCIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci93ZWIvZ2xvYmFsc1wiO1xuaW1wb3J0IHsgYWRhcHRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9hZGFwdGVyXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyBfbW9kIGZyb20gXCIuL3NyYy9wcm94eS50c1wiO1xuaW1wb3J0IHsgZWRnZUluc3RydW1lbnRhdGlvbk9uUmVxdWVzdEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL2dsb2JhbHNcIjtcbmltcG9ydCB7IGlzTmV4dFJvdXRlckVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9jbGllbnQvY29tcG9uZW50cy9pcy1uZXh0LXJvdXRlci1lcnJvclwiO1xuY29uc3QgbW9kID0ge1xuICAgIC4uLl9tb2Rcbn07XG5jb25zdCBwYWdlID0gXCIvcHJveHlcIjtcbmNvbnN0IGlzUHJveHkgPSBwYWdlID09PSAnL3Byb3h5JyB8fCBwYWdlID09PSAnL3NyYy9wcm94eSc7XG5jb25zdCBoYW5kbGVyVXNlcmxhbmQgPSAoaXNQcm94eSA/IG1vZC5wcm94eSA6IG1vZC5taWRkbGV3YXJlKSB8fCBtb2QuZGVmYXVsdDtcbmNsYXNzIFByb3h5TWlzc2luZ0V4cG9ydEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2Upe1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgLy8gU3RhY2sgaXNuJ3QgdXNlZnVsIGhlcmUsIHJlbW92ZSBpdCBjb25zaWRlcmluZyBpdCBzcGFtcyBsb2dzIGR1cmluZyBkZXZlbG9wbWVudC5cbiAgICAgICAgdGhpcy5zdGFjayA9ICcnO1xuICAgIH1cbn1cbi8vIFRPRE86IFRoaXMgc3BhbXMgbG9ncyBkdXJpbmcgZGV2ZWxvcG1lbnQuIEZpbmQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGlzLlxuLy8gUmVtb3ZpbmcgdGhpcyB3aWxsIHNwYW0gXCJmbiBpcyBub3QgYSBmdW5jdGlvblwiIGxvZ3Mgd2hpY2ggaXMgd29yc2UuXG5pZiAodHlwZW9mIGhhbmRsZXJVc2VybGFuZCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBQcm94eU1pc3NpbmdFeHBvcnRFcnJvcihgVGhlICR7aXNQcm94eSA/ICdQcm94eScgOiAnTWlkZGxld2FyZSd9IGZpbGUgXCIke3BhZ2V9XCIgbXVzdCBleHBvcnQgYSBmdW5jdGlvbiBuYW1lZCBcXGAke2lzUHJveHkgPyAncHJveHknIDogJ21pZGRsZXdhcmUnfVxcYCBvciBhIGRlZmF1bHQgZnVuY3Rpb24uYCk7XG59XG4vLyBQcm94eSB3aWxsIG9ubHkgc2VudCBvdXQgdGhlIEZldGNoRXZlbnQgdG8gbmV4dCBzZXJ2ZXIsXG4vLyBzbyBsb2FkIGluc3RydW1lbnRhdGlvbiBtb2R1bGUgaGVyZSBhbmQgdHJhY2sgdGhlIGVycm9yIGluc2lkZSBwcm94eSBtb2R1bGUuXG5mdW5jdGlvbiBlcnJvckhhbmRsZWRIYW5kbGVyKGZuKSB7XG4gICAgcmV0dXJuIGFzeW5jICguLi5hcmdzKT0+e1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGZuKC4uLmFyZ3MpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIEluIGRldmVsb3BtZW50LCBlcnJvciB0aGUgbmF2aWdhdGlvbiBBUEkgdXNhZ2UgaW4gcnVudGltZSxcbiAgICAgICAgICAgIC8vIHNpbmNlIGl0J3Mgbm90IGFsbG93ZWQgdG8gYmUgdXNlZCBpbiBwcm94eSBhcyBpdCdzIG91dHNpZGUgb2YgcmVhY3QgY29tcG9uZW50IHRyZWUuXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmIChpc05leHRSb3V0ZXJFcnJvcihlcnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlID0gYE5leHQuanMgbmF2aWdhdGlvbiBBUEkgaXMgbm90IGFsbG93ZWQgdG8gYmUgdXNlZCBpbiAke2lzUHJveHkgPyAnUHJveHknIDogJ01pZGRsZXdhcmUnfS5gO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gICAgICAgICAgICBjb25zdCByZXNvdXJjZSA9IHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7XG4gICAgICAgICAgICBhd2FpdCBlZGdlSW5zdHJ1bWVudGF0aW9uT25SZXF1ZXN0RXJyb3IoZXJyLCB7XG4gICAgICAgICAgICAgICAgcGF0aDogcmVzb3VyY2UsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IE9iamVjdC5mcm9tRW50cmllcyhyZXEuaGVhZGVycy5lbnRyaWVzKCkpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ1BhZ2VzIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgcm91dGVQYXRoOiAnL3Byb3h5JyxcbiAgICAgICAgICAgICAgICByb3V0ZVR5cGU6ICdwcm94eScsXG4gICAgICAgICAgICAgICAgcmV2YWxpZGF0ZVJlYXNvbjogdW5kZWZpbmVkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH07XG59XG5jb25zdCBoYW5kbGVyID0gKG9wdHMpPT57XG4gICAgcmV0dXJuIGFkYXB0ZXIoe1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBwYWdlLFxuICAgICAgICBoYW5kbGVyOiBlcnJvckhhbmRsZWRIYW5kbGVyKGhhbmRsZXJVc2VybGFuZClcbiAgICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCBoYW5kbGVyO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1taWRkbGV3YXJlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb%2Fsrc%2Fproxy.ts&page=%2Fproxy&rootDir=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb&matchers=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(middleware)/./src/proxy.ts":
/*!**********************!*\
  !*** ./src/proxy.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   proxy: () => (/* binding */ proxy)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/api/server.js\");\n\nconst DEFAULT_DEV_ADMIN_ORIGIN = \"http://admin.localhost:3000\";\nconst DEFAULT_DEV_ADMIN_API_HOSTS = [\n    \"admin.localhost\",\n    \"localhost\",\n    \"127.0.0.1\",\n    \"[::1]\",\n    \"::1\"\n];\nconst STATIC_PATH_PREFIXES = [\n    \"/_next\",\n    \"/favicon.ico\",\n    \"/robots.txt\",\n    \"/sitemap.xml\"\n];\nconst LOOPBACK_HOSTS = new Set([\n    \"localhost\",\n    \"127.0.0.1\",\n    \"[::1]\",\n    \"::1\"\n]);\nfunction parseOptionalBoolean(value) {\n    if (typeof value !== \"string\") return null;\n    const normalized = value.trim().toLowerCase();\n    if (!normalized) return null;\n    if (normalized === \"true\" || normalized === \"1\" || normalized === \"yes\" || normalized === \"on\") {\n        return true;\n    }\n    if (normalized === \"false\" || normalized === \"0\" || normalized === \"no\" || normalized === \"off\") {\n        return false;\n    }\n    return null;\n}\nfunction normalizeHost(value) {\n    if (!value) return null;\n    const normalized = value.trim().toLowerCase();\n    if (!normalized) return null;\n    // Bracketed IPv6 form from URL.hostname / Host header.\n    if (normalized.startsWith(\"[\")) {\n        const closingBracket = normalized.indexOf(\"]\");\n        if (closingBracket >= 0) {\n            return normalized.slice(0, closingBracket + 1);\n        }\n    }\n    // host:port (single-colon non-IPv6 host)\n    const firstColon = normalized.indexOf(\":\");\n    const lastColon = normalized.lastIndexOf(\":\");\n    if (firstColon > -1 && firstColon === lastColon) {\n        const maybePort = normalized.slice(lastColon + 1);\n        if (/^\\d+$/.test(maybePort)) {\n            return normalized.slice(0, lastColon);\n        }\n    }\n    return normalized;\n}\nfunction resolveAdminOrigin() {\n    const configuredOrigin = process.env.ADMIN_APP_ORIGIN?.trim();\n    if (configuredOrigin) return configuredOrigin;\n    if (true) return DEFAULT_DEV_ADMIN_ORIGIN;\n    return null;\n}\nfunction resolveAdminHost(adminOrigin) {\n    if (!adminOrigin) return null;\n    try {\n        return normalizeHost(new URL(adminOrigin).hostname);\n    } catch  {\n        return null;\n    }\n}\nfunction parseHostAllowlist(raw) {\n    return new Set((raw ?? \"\").split(\",\").map((entry)=>normalizeHost(entry)).filter((entry)=>Boolean(entry)));\n}\nfunction resolveAdminApiAllowedHosts(adminOrigin) {\n    const hosts = parseHostAllowlist(process.env.ADMIN_APP_HOSTS);\n    if (hosts.size === 0 && \"development\" === \"development\") {\n        for (const host of DEFAULT_DEV_ADMIN_API_HOSTS){\n            const normalizedHost = normalizeHost(host);\n            if (normalizedHost) hosts.add(normalizedHost);\n        }\n    }\n    if (!adminOrigin) return hosts;\n    try {\n        const originHost = normalizeHost(new URL(adminOrigin).hostname);\n        if (originHost) hosts.add(originHost);\n    } catch  {\n    // Ignore invalid origin values; API allowlist can still come from ADMIN_APP_HOSTS.\n    }\n    return hosts;\n}\nfunction isLoopbackHost(host) {\n    if (!host) return false;\n    return LOOPBACK_HOSTS.has(host);\n}\nfunction hostsMatch(expectedHost, requestHost) {\n    if (!expectedHost || !requestHost) return false;\n    if (expectedHost === requestHost) return true;\n    return isLoopbackHost(expectedHost) && isLoopbackHost(requestHost);\n}\nfunction isAllowedHost(allowedHosts, requestHost) {\n    if (!requestHost) return false;\n    if (allowedHosts.has(requestHost)) return true;\n    if (!isLoopbackHost(requestHost)) return false;\n    return Array.from(allowedHosts).some((allowedHost)=>isLoopbackHost(allowedHost));\n}\nfunction isStaticPath(pathname) {\n    if (STATIC_PATH_PREFIXES.some((prefix)=>pathname.startsWith(prefix))) return true;\n    return /\\.[^/]+$/.test(pathname);\n}\nfunction isAdminUiPath(pathname) {\n    return pathname === \"/admin\" || pathname.startsWith(\"/admin/\");\n}\nfunction isAdminApiPath(pathname) {\n    return pathname === \"/api/admin\" || pathname.startsWith(\"/api/admin/\");\n}\nfunction isApiPath(pathname) {\n    return pathname === \"/api\" || pathname.startsWith(\"/api/\");\n}\nfunction proxy(request) {\n    const enforceHost = parseOptionalBoolean(process.env.ADMIN_ENFORCE_HOST) ?? true;\n    if (!enforceHost) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    const pathname = request.nextUrl.pathname;\n    if (isStaticPath(pathname)) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n    const strictHostRouting = parseOptionalBoolean(process.env.ADMIN_STRICT_HOST_ROUTING) ?? false;\n    const adminOrigin = resolveAdminOrigin();\n    const canonicalAdminHost = resolveAdminHost(adminOrigin);\n    const allowedAdminApiHosts = resolveAdminApiAllowedHosts(adminOrigin);\n    const requestHost = normalizeHost(request.headers.get(\"host\")) ?? normalizeHost(request.nextUrl.hostname);\n    const onCanonicalAdminHost = hostsMatch(canonicalAdminHost, requestHost);\n    const isAllowedAdminApiHost = isAllowedHost(allowedAdminApiHosts, requestHost);\n    const onAdminUiPath = isAdminUiPath(pathname);\n    const onAdminApiPath = isAdminApiPath(pathname);\n    if (onAdminApiPath && !isAllowedAdminApiHost) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Admin API is not available on this host.\"\n        }, {\n            status: 403\n        });\n    }\n    if (onAdminUiPath && !onCanonicalAdminHost) {\n        if (!adminOrigin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Admin origin is not configured.\"\n            }, {\n                status: 403\n            });\n        }\n        const redirectUrl = new URL(pathname + request.nextUrl.search, adminOrigin);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(redirectUrl, 307);\n    }\n    if (strictHostRouting && onCanonicalAdminHost && !onAdminUiPath) {\n        if (isApiPath(pathname)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n        }\n        if (!adminOrigin) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Admin origin is not configured.\"\n            }, {\n                status: 403\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/admin\", adminOrigin), 307);\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nconst config = {\n    matcher: [\n        \"/:path*\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDNUM7SUFFQSxJQUFJYixxQkFBcUJNLHdCQUF3QixDQUFDRSxlQUFlO1FBQy9ELElBQUlmLFVBQVVKLFdBQVc7WUFDdkIsT0FBT3pELHFEQUFZQSxDQUFDa0UsSUFBSTtRQUMxQjtRQUNBLElBQUksQ0FBQ3ZDLGFBQWE7WUFDaEIsT0FBTzNCLHFEQUFZQSxDQUFDOEUsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWtDLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN2RjtRQUNBLE9BQU9oRixxREFBWUEsQ0FBQ21GLFFBQVEsQ0FBQyxJQUFJdkQsSUFBSSxVQUFVRCxjQUFjO0lBQy9EO0lBRUEsT0FBTzNCLHFEQUFZQSxDQUFDa0UsSUFBSTtBQUMxQjtBQUVPLE1BQU1rQixTQUFTO0lBQ3BCQyxTQUFTO1FBQUM7S0FBVTtBQUN0QixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvdGhvbWFzaHVsaWhhbi9Qcm9qZWN0cy9UUlIvVFJSLUFQUC9hcHBzL3dlYi9zcmMvcHJveHkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlLCB0eXBlIE5leHRSZXF1ZXN0IH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5cbmNvbnN0IERFRkFVTFRfREVWX0FETUlOX09SSUdJTiA9IFwiaHR0cDovL2FkbWluLmxvY2FsaG9zdDozMDAwXCI7XG5jb25zdCBERUZBVUxUX0RFVl9BRE1JTl9BUElfSE9TVFMgPSBbXCJhZG1pbi5sb2NhbGhvc3RcIiwgXCJsb2NhbGhvc3RcIiwgXCIxMjcuMC4wLjFcIiwgXCJbOjoxXVwiLCBcIjo6MVwiXTtcbmNvbnN0IFNUQVRJQ19QQVRIX1BSRUZJWEVTID0gW1wiL19uZXh0XCIsIFwiL2Zhdmljb24uaWNvXCIsIFwiL3JvYm90cy50eHRcIiwgXCIvc2l0ZW1hcC54bWxcIl07XG5jb25zdCBMT09QQkFDS19IT1NUUyA9IG5ldyBTZXQoW1wibG9jYWxob3N0XCIsIFwiMTI3LjAuMC4xXCIsIFwiWzo6MV1cIiwgXCI6OjFcIl0pO1xuXG5mdW5jdGlvbiBwYXJzZU9wdGlvbmFsQm9vbGVhbih2YWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB8IG51bGwge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSByZXR1cm4gbnVsbDtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIW5vcm1hbGl6ZWQpIHJldHVybiBudWxsO1xuICBpZiAobm9ybWFsaXplZCA9PT0gXCJ0cnVlXCIgfHwgbm9ybWFsaXplZCA9PT0gXCIxXCIgfHwgbm9ybWFsaXplZCA9PT0gXCJ5ZXNcIiB8fCBub3JtYWxpemVkID09PSBcIm9uXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAobm9ybWFsaXplZCA9PT0gXCJmYWxzZVwiIHx8IG5vcm1hbGl6ZWQgPT09IFwiMFwiIHx8IG5vcm1hbGl6ZWQgPT09IFwibm9cIiB8fCBub3JtYWxpemVkID09PSBcIm9mZlwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVIb3N0KHZhbHVlOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICBjb25zdCBub3JtYWxpemVkID0gdmFsdWUudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gIGlmICghbm9ybWFsaXplZCkgcmV0dXJuIG51bGw7XG5cbiAgLy8gQnJhY2tldGVkIElQdjYgZm9ybSBmcm9tIFVSTC5ob3N0bmFtZSAvIEhvc3QgaGVhZGVyLlxuICBpZiAobm9ybWFsaXplZC5zdGFydHNXaXRoKFwiW1wiKSkge1xuICAgIGNvbnN0IGNsb3NpbmdCcmFja2V0ID0gbm9ybWFsaXplZC5pbmRleE9mKFwiXVwiKTtcbiAgICBpZiAoY2xvc2luZ0JyYWNrZXQgPj0gMCkge1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQuc2xpY2UoMCwgY2xvc2luZ0JyYWNrZXQgKyAxKTtcbiAgICB9XG4gIH1cblxuICAvLyBob3N0OnBvcnQgKHNpbmdsZS1jb2xvbiBub24tSVB2NiBob3N0KVxuICBjb25zdCBmaXJzdENvbG9uID0gbm9ybWFsaXplZC5pbmRleE9mKFwiOlwiKTtcbiAgY29uc3QgbGFzdENvbG9uID0gbm9ybWFsaXplZC5sYXN0SW5kZXhPZihcIjpcIik7XG4gIGlmIChmaXJzdENvbG9uID4gLTEgJiYgZmlyc3RDb2xvbiA9PT0gbGFzdENvbG9uKSB7XG4gICAgY29uc3QgbWF5YmVQb3J0ID0gbm9ybWFsaXplZC5zbGljZShsYXN0Q29sb24gKyAxKTtcbiAgICBpZiAoL15cXGQrJC8udGVzdChtYXliZVBvcnQpKSB7XG4gICAgICByZXR1cm4gbm9ybWFsaXplZC5zbGljZSgwLCBsYXN0Q29sb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBub3JtYWxpemVkO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlQWRtaW5PcmlnaW4oKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGNvbmZpZ3VyZWRPcmlnaW4gPSBwcm9jZXNzLmVudi5BRE1JTl9BUFBfT1JJR0lOPy50cmltKCk7XG4gIGlmIChjb25maWd1cmVkT3JpZ2luKSByZXR1cm4gY29uZmlndXJlZE9yaWdpbjtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHJldHVybiBERUZBVUxUX0RFVl9BRE1JTl9PUklHSU47XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlQWRtaW5Ib3N0KGFkbWluT3JpZ2luOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmICghYWRtaW5PcmlnaW4pIHJldHVybiBudWxsO1xuICB0cnkge1xuICAgIHJldHVybiBub3JtYWxpemVIb3N0KG5ldyBVUkwoYWRtaW5PcmlnaW4pLmhvc3RuYW1lKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VIb3N0QWxsb3dsaXN0KHJhdzogc3RyaW5nIHwgdW5kZWZpbmVkKTogU2V0PHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFNldChcbiAgICAocmF3ID8/IFwiXCIpXG4gICAgICAuc3BsaXQoXCIsXCIpXG4gICAgICAubWFwKChlbnRyeSkgPT4gbm9ybWFsaXplSG9zdChlbnRyeSkpXG4gICAgICAuZmlsdGVyKChlbnRyeSk6IGVudHJ5IGlzIHN0cmluZyA9PiBCb29sZWFuKGVudHJ5KSksXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBZG1pbkFwaUFsbG93ZWRIb3N0cyhhZG1pbk9yaWdpbjogc3RyaW5nIHwgbnVsbCk6IFNldDxzdHJpbmc+IHtcbiAgY29uc3QgaG9zdHMgPSBwYXJzZUhvc3RBbGxvd2xpc3QocHJvY2Vzcy5lbnYuQURNSU5fQVBQX0hPU1RTKTtcbiAgaWYgKGhvc3RzLnNpemUgPT09IDAgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgIGZvciAoY29uc3QgaG9zdCBvZiBERUZBVUxUX0RFVl9BRE1JTl9BUElfSE9TVFMpIHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRIb3N0ID0gbm9ybWFsaXplSG9zdChob3N0KTtcbiAgICAgIGlmIChub3JtYWxpemVkSG9zdCkgaG9zdHMuYWRkKG5vcm1hbGl6ZWRIb3N0KTtcbiAgICB9XG4gIH1cbiAgaWYgKCFhZG1pbk9yaWdpbikgcmV0dXJuIGhvc3RzO1xuXG4gIHRyeSB7XG4gICAgY29uc3Qgb3JpZ2luSG9zdCA9IG5vcm1hbGl6ZUhvc3QobmV3IFVSTChhZG1pbk9yaWdpbikuaG9zdG5hbWUpO1xuICAgIGlmIChvcmlnaW5Ib3N0KSBob3N0cy5hZGQob3JpZ2luSG9zdCk7XG4gIH0gY2F0Y2gge1xuICAgIC8vIElnbm9yZSBpbnZhbGlkIG9yaWdpbiB2YWx1ZXM7IEFQSSBhbGxvd2xpc3QgY2FuIHN0aWxsIGNvbWUgZnJvbSBBRE1JTl9BUFBfSE9TVFMuXG4gIH1cblxuICByZXR1cm4gaG9zdHM7XG59XG5cbmZ1bmN0aW9uIGlzTG9vcGJhY2tIb3N0KGhvc3Q6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcbiAgaWYgKCFob3N0KSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBMT09QQkFDS19IT1NUUy5oYXMoaG9zdCk7XG59XG5cbmZ1bmN0aW9uIGhvc3RzTWF0Y2goZXhwZWN0ZWRIb3N0OiBzdHJpbmcgfCBudWxsLCByZXF1ZXN0SG9zdDogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICBpZiAoIWV4cGVjdGVkSG9zdCB8fCAhcmVxdWVzdEhvc3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKGV4cGVjdGVkSG9zdCA9PT0gcmVxdWVzdEhvc3QpIHJldHVybiB0cnVlO1xuICByZXR1cm4gaXNMb29wYmFja0hvc3QoZXhwZWN0ZWRIb3N0KSAmJiBpc0xvb3BiYWNrSG9zdChyZXF1ZXN0SG9zdCk7XG59XG5cbmZ1bmN0aW9uIGlzQWxsb3dlZEhvc3QoYWxsb3dlZEhvc3RzOiBTZXQ8c3RyaW5nPiwgcmVxdWVzdEhvc3Q6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgaWYgKCFyZXF1ZXN0SG9zdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoYWxsb3dlZEhvc3RzLmhhcyhyZXF1ZXN0SG9zdCkpIHJldHVybiB0cnVlO1xuICBpZiAoIWlzTG9vcGJhY2tIb3N0KHJlcXVlc3RIb3N0KSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gQXJyYXkuZnJvbShhbGxvd2VkSG9zdHMpLnNvbWUoKGFsbG93ZWRIb3N0KSA9PiBpc0xvb3BiYWNrSG9zdChhbGxvd2VkSG9zdCkpO1xufVxuXG5mdW5jdGlvbiBpc1N0YXRpY1BhdGgocGF0aG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAoU1RBVElDX1BBVEhfUFJFRklYRVMuc29tZSgocHJlZml4KSA9PiBwYXRobmFtZS5zdGFydHNXaXRoKHByZWZpeCkpKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIC9cXC5bXi9dKyQvLnRlc3QocGF0aG5hbWUpO1xufVxuXG5mdW5jdGlvbiBpc0FkbWluVWlQYXRoKHBhdGhuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIHBhdGhuYW1lID09PSBcIi9hZG1pblwiIHx8IHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvYWRtaW4vXCIpO1xufVxuXG5mdW5jdGlvbiBpc0FkbWluQXBpUGF0aChwYXRobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBwYXRobmFtZSA9PT0gXCIvYXBpL2FkbWluXCIgfHwgcGF0aG5hbWUuc3RhcnRzV2l0aChcIi9hcGkvYWRtaW4vXCIpO1xufVxuXG5mdW5jdGlvbiBpc0FwaVBhdGgocGF0aG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gcGF0aG5hbWUgPT09IFwiL2FwaVwiIHx8IHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvYXBpL1wiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb3h5KHJlcXVlc3Q6IE5leHRSZXF1ZXN0KTogTmV4dFJlc3BvbnNlIHtcbiAgY29uc3QgZW5mb3JjZUhvc3QgPSBwYXJzZU9wdGlvbmFsQm9vbGVhbihwcm9jZXNzLmVudi5BRE1JTl9FTkZPUkNFX0hPU1QpID8/IHRydWU7XG4gIGlmICghZW5mb3JjZUhvc3QpIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xuXG4gIGNvbnN0IHBhdGhuYW1lID0gcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lO1xuICBpZiAoaXNTdGF0aWNQYXRoKHBhdGhuYW1lKSkgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG5cbiAgY29uc3Qgc3RyaWN0SG9zdFJvdXRpbmcgPSBwYXJzZU9wdGlvbmFsQm9vbGVhbihwcm9jZXNzLmVudi5BRE1JTl9TVFJJQ1RfSE9TVF9ST1VUSU5HKSA/PyBmYWxzZTtcbiAgY29uc3QgYWRtaW5PcmlnaW4gPSByZXNvbHZlQWRtaW5PcmlnaW4oKTtcbiAgY29uc3QgY2Fub25pY2FsQWRtaW5Ib3N0ID0gcmVzb2x2ZUFkbWluSG9zdChhZG1pbk9yaWdpbik7XG4gIGNvbnN0IGFsbG93ZWRBZG1pbkFwaUhvc3RzID0gcmVzb2x2ZUFkbWluQXBpQWxsb3dlZEhvc3RzKGFkbWluT3JpZ2luKTtcbiAgY29uc3QgcmVxdWVzdEhvc3QgPSBub3JtYWxpemVIb3N0KHJlcXVlc3QuaGVhZGVycy5nZXQoXCJob3N0XCIpKSA/PyBub3JtYWxpemVIb3N0KHJlcXVlc3QubmV4dFVybC5ob3N0bmFtZSk7XG4gIGNvbnN0IG9uQ2Fub25pY2FsQWRtaW5Ib3N0ID0gaG9zdHNNYXRjaChjYW5vbmljYWxBZG1pbkhvc3QsIHJlcXVlc3RIb3N0KTtcbiAgY29uc3QgaXNBbGxvd2VkQWRtaW5BcGlIb3N0ID0gaXNBbGxvd2VkSG9zdChhbGxvd2VkQWRtaW5BcGlIb3N0cywgcmVxdWVzdEhvc3QpO1xuICBjb25zdCBvbkFkbWluVWlQYXRoID0gaXNBZG1pblVpUGF0aChwYXRobmFtZSk7XG4gIGNvbnN0IG9uQWRtaW5BcGlQYXRoID0gaXNBZG1pbkFwaVBhdGgocGF0aG5hbWUpO1xuXG4gIGlmIChvbkFkbWluQXBpUGF0aCAmJiAhaXNBbGxvd2VkQWRtaW5BcGlIb3N0KSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiQWRtaW4gQVBJIGlzIG5vdCBhdmFpbGFibGUgb24gdGhpcyBob3N0LlwiIH0sIHsgc3RhdHVzOiA0MDMgfSk7XG4gIH1cblxuICBpZiAob25BZG1pblVpUGF0aCAmJiAhb25DYW5vbmljYWxBZG1pbkhvc3QpIHtcbiAgICBpZiAoIWFkbWluT3JpZ2luKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogXCJBZG1pbiBvcmlnaW4gaXMgbm90IGNvbmZpZ3VyZWQuXCIgfSwgeyBzdGF0dXM6IDQwMyB9KTtcbiAgICB9XG4gICAgY29uc3QgcmVkaXJlY3RVcmwgPSBuZXcgVVJMKHBhdGhuYW1lICsgcmVxdWVzdC5uZXh0VXJsLnNlYXJjaCwgYWRtaW5PcmlnaW4pO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QocmVkaXJlY3RVcmwsIDMwNyk7XG4gIH1cblxuICBpZiAoc3RyaWN0SG9zdFJvdXRpbmcgJiYgb25DYW5vbmljYWxBZG1pbkhvc3QgJiYgIW9uQWRtaW5VaVBhdGgpIHtcbiAgICBpZiAoaXNBcGlQYXRoKHBhdGhuYW1lKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gICAgfVxuICAgIGlmICghYWRtaW5PcmlnaW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBcIkFkbWluIG9yaWdpbiBpcyBub3QgY29uZmlndXJlZC5cIiB9LCB7IHN0YXR1czogNDAzIH0pO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoXCIvYWRtaW5cIiwgYWRtaW5PcmlnaW4pLCAzMDcpO1xuICB9XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG59XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIG1hdGNoZXI6IFtcIi86cGF0aCpcIl0sXG59O1xuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIkRFRkFVTFRfREVWX0FETUlOX09SSUdJTiIsIkRFRkFVTFRfREVWX0FETUlOX0FQSV9IT1NUUyIsIlNUQVRJQ19QQVRIX1BSRUZJWEVTIiwiTE9PUEJBQ0tfSE9TVFMiLCJTZXQiLCJwYXJzZU9wdGlvbmFsQm9vbGVhbiIsInZhbHVlIiwibm9ybWFsaXplZCIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsIm5vcm1hbGl6ZUhvc3QiLCJzdGFydHNXaXRoIiwiY2xvc2luZ0JyYWNrZXQiLCJpbmRleE9mIiwic2xpY2UiLCJmaXJzdENvbG9uIiwibGFzdENvbG9uIiwibGFzdEluZGV4T2YiLCJtYXliZVBvcnQiLCJ0ZXN0IiwicmVzb2x2ZUFkbWluT3JpZ2luIiwiY29uZmlndXJlZE9yaWdpbiIsInByb2Nlc3MiLCJlbnYiLCJBRE1JTl9BUFBfT1JJR0lOIiwicmVzb2x2ZUFkbWluSG9zdCIsImFkbWluT3JpZ2luIiwiVVJMIiwiaG9zdG5hbWUiLCJwYXJzZUhvc3RBbGxvd2xpc3QiLCJyYXciLCJzcGxpdCIsIm1hcCIsImVudHJ5IiwiZmlsdGVyIiwiQm9vbGVhbiIsInJlc29sdmVBZG1pbkFwaUFsbG93ZWRIb3N0cyIsImhvc3RzIiwiQURNSU5fQVBQX0hPU1RTIiwic2l6ZSIsImhvc3QiLCJub3JtYWxpemVkSG9zdCIsImFkZCIsIm9yaWdpbkhvc3QiLCJpc0xvb3BiYWNrSG9zdCIsImhhcyIsImhvc3RzTWF0Y2giLCJleHBlY3RlZEhvc3QiLCJyZXF1ZXN0SG9zdCIsImlzQWxsb3dlZEhvc3QiLCJhbGxvd2VkSG9zdHMiLCJBcnJheSIsImZyb20iLCJzb21lIiwiYWxsb3dlZEhvc3QiLCJpc1N0YXRpY1BhdGgiLCJwYXRobmFtZSIsInByZWZpeCIsImlzQWRtaW5VaVBhdGgiLCJpc0FkbWluQXBpUGF0aCIsImlzQXBpUGF0aCIsInByb3h5IiwicmVxdWVzdCIsImVuZm9yY2VIb3N0IiwiQURNSU5fRU5GT1JDRV9IT1NUIiwibmV4dCIsIm5leHRVcmwiLCJzdHJpY3RIb3N0Um91dGluZyIsIkFETUlOX1NUUklDVF9IT1NUX1JPVVRJTkciLCJjYW5vbmljYWxBZG1pbkhvc3QiLCJhbGxvd2VkQWRtaW5BcGlIb3N0cyIsImhlYWRlcnMiLCJnZXQiLCJvbkNhbm9uaWNhbEFkbWluSG9zdCIsImlzQWxsb3dlZEFkbWluQXBpSG9zdCIsIm9uQWRtaW5VaVBhdGgiLCJvbkFkbWluQXBpUGF0aCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInJlZGlyZWN0VXJsIiwic2VhcmNoIiwicmVkaXJlY3QiLCJjb25maWciLCJtYXRjaGVyIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./src/proxy.ts\n");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "../incremental-cache/tags-manifest.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/lib/incremental-cache/tags-manifest.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/server/lib/incremental-cache/tags-manifest.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "node:async_hooks":
/*!***********************************!*\
  !*** external "node:async_hooks" ***!
  \***********************************/
/***/ ((module) => {

module.exports = require("node:async_hooks");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("./webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf","vendor-chunks/@opentelemetry+api@1.9.0"], () => (__webpack_exec__("(middleware)/../../node_modules/.pnpm/next@16.1.6_@babel+core@7.29.0_@opentelemetry+api@1.9.0_@playwright+test@1.58.2_react-d_1d4e113d3773c3b55fbca086e6c449bf/node_modules/next/dist/build/webpack/loaders/next-middleware-loader.js?absolutePagePath=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb%2Fsrc%2Fproxy.ts&page=%2Fproxy&rootDir=%2FUsers%2Fthomashulihan%2FProjects%2FTRR%2FTRR-APP%2Fapps%2Fweb&matchers=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();